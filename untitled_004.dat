define("npm/@ali/straw/index",[],function(e,t,n){var c,a;c=function(e){function t(){}function n(e,t,n){var r=4e3,i=e.slice(e.indexOf("=")+1);window[i]=function(e){t&&t(e),a(i),c(i),d&&clearTimeout(d)};var o=document.createElement("script");o.src=e,o.id=i,o.onerror=function(e){a(i),c(i),d&&clearTimeout(d),n&&n("Straw: Load data fail")},document.getElementsByTagName("head")[0].appendChild(o);var d=setTimeout(function(){n&&n("Straw: Load data timeout"),c(i),a(i)},r)}function c(e){window[e]=t}function a(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}var r={baseUrl:"https://drc.alicdn.com/7/",tceKeys:["tce_sid","tce_vid","tid","tab","topic","src"]},i={fetch:function(e,t,c){var a=this.getCdnUrl(e);n(a,t,c)},getCdnUrl:function(e){for(var t=r.baseUrl,n="",c=0;c<r.tceKeys.length;c++){var a=r.tceKeys[c];(e[a]||0==e[a])&&(n+=e[a]),n+="_"}return n=n.slice(0,n.length-1),t+=n+"?callback=jsonp"+n}};return e=i}(),a=function(e){return e=c}(),n.exports=a});define("npm/@ali/xctrl/xctrl-kissy",["npm/@ali/straw/index","promise","io","json"],function(require,exports,module){var aliStraw=require("npm/@ali/straw/index"),promise=require("promise"),io=require("io"),json=require("json"),kgXctrl724SrcBaseApi,kgXctrl724SrcGetHelper,kgXctrl724SrcModBaseApiKissy,kgXctrl724SrcApi,kgXctrl724SrcBase,kgXctrl724XctrlKissy;kgXctrl724SrcBaseApi=function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),a=1;a<arguments.length;a++){var i=arguments[a];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])}return r});var r={};return r.isString=function(t){return"string"==typeof t&&t.constructor==String},r.isArray=function(t){return null!=t&&("object"==("undefined"==typeof t?"undefined":e(t))&&t.constructor==Array)},r.isFunction=function(t){return"function"==typeof t&&t.constructor==Function},r.isPlainObject=function(t){if(!t||"[object Object]"!==t.toString()||t.nodeType||t.setInterval)return!1;if(t.constructor&&!t.hasOwnProperty("constructor")&&!t.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1;var e;for(e in t);return void 0===e||t.hasOwnProperty(e)},r.trim=function(t){for(var t=t.replace(/^\s+/,""),e=t.length-1;e>=0;e--)if(/\S/.test(t.charAt(e))){t=t.substring(0,e+1);break}return t},r.inArray=function(t,e,r){var a;if(e){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(a=e.length,r=r?r<0?Math.max(0,a+r):r:0;r<a;r++)if(r in e&&e[r]===t)return r}return-1},t=r}(),kgXctrl724SrcGetHelper=function(t){function e(t){r=window.XctrlBaseApi||{},this.init(t)}var r,a=aliStraw,i=promise,n={request:{merge:{maxBlock:20,maxCount:80,maxTime:300,outTime:100},jsonp:{callback:"callback"},url:"",backupUrl:"",parameters:{},split:",;|"},response:{convert:{},path:""}};return e.prototype={init:function(t){var e=this;e.conf=r.merge(t,r.clone(n)),r.mix(e.conf,t,!0,null,!0),e.conf.request.merge&&e.conf.request.mergeKey&&(e._path=e.conf.request.mergeKey.split(">")),e._init()},_init:function(){var t=this;t._stack=[],t._resultSuccess={},t._block={},t._count=0,t._blockCount=0,t._startTime=null},_val:function(t,e){return e.replace(/\$\{([^}]*)\}/g,function(e,r){return t[r]||""})},_valResponse:function(t,e){return e.replace(/@\{([^}]*)\}/g,function(e,r){return t[r]})},countItem:function(){var t=this;return t.conf.request.mergeCount},_paraTr:function(t,e){var r=this,a={};for(var i in e)e.hasOwnProperty(i)&&(a[i]=r._val(t,e[i]));return a},push:function(t,e,a){var i,n,c=this,o=c.conf.request,s=o.merge,u=o.mergeKey,p=o.mergeCount,l=c._path,f=o.parameters,d={para:t,cb:e,dycfg:a||{}};if(i=c._paraTr(t,f),i=r.merge(i,t),n=a?s&&u&&a.merge:s&&u,a.request&&(n=!1),n){c._startTime=c._startTime||new Date,p&&(""==i[p]?d.count="":d.count=parseInt(i[p],10),c._count+d.count>s.maxCount&&c._count>0&&c._do(),c._count+=d.count);for(var m=c._block,g=!1,h=0;h<l.length;h+=1){var y=i[l[h]];if(h+1===l.length)if(m[y]){for(var v=!1,_=0,b=m[y].length;_<b;_++)return m[y][_]===i[_]||!p||h===p||(v=!0,!1);if(v)return c._do(),c.push(t,e),c;p&&(m[y][p]+=i[p]?parseInt(i[p],10):"")}else{var k={};for(var A in i)i.hasOwnProperty(A)&&r.inArray(A,l)<0&&(p===A?k[A]=i[A]?parseInt(i[A],10):"":k[A]=i[A]);m[y]=k,g=!0}else m[y]||(m[y]={},g=!0),m=m[y]}var w=r.clone(d);if(c._stack.push(w),g&&(c._blockCount+=1,c._blockCount>=s.maxBlock))return c._do(),c;new Date-c._startTime>s.maxTime?c._do():(clearTimeout(c._timer),c._timer=setTimeout(function(){c._do()},s.outTime))}else{var S=[];S.push(d),c._do(i,S)}return c},_getPara:function(){var t=this,e=t.conf.request,r=t._path,a=e.split.split(""),i=r.length,n=t._block,c=function o(t,e,r){var n={};if(n[t[0]]=[],t.length>1){for(var c in e)if(e.hasOwnProperty(c)){n[t[0]].push(c);var s=o(t.slice(1),e[c],r+1);for(var u in s)s.hasOwnProperty(u)&&(n[u]||(n[u]=[]),n[u].push(s[u]))}}else{var p=0;for(var l in e){if(e.hasOwnProperty(l)){n[t[0]].push(l);var f=0;for(var d in e[l])e[l].hasOwnProperty(d)&&(n[d]||(n[d]=[]),n[d][p]=e[l][d],f++)}p++}for(var m in n)n[m].length!==p&&(n[m].length=p)}for(var g in n)n.hasOwnProperty(g)&&(n[g]=n[g].join(a[i-r-1]));return n};return c(r,n,0)},_reportMsg:function(t,e){try{e=String(e)===e?e:r.JSON.stringify(e)}catch(a){}JSTracker2.push({msg:t+"||"+e})},_do:function(t,e){var a=this,i=e||a._stack,n=r.JSON.stringify(t);a[n]=!1;var c=t||a._getPara();if(e&&"taobao"===e[0].dycfg.request)var o="//tce.taobao.com/api/mget.htm",s="//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.taobao.com/api/mget.htm";else if(e&&"alicdn"===e[0].dycfg.request)var o="//tce.alicdn.com/api/mget.htm",s="//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.alicdn.com/api/mget.htm";else var o=a.conf.request.url,s=a.conf.request.backupUrl;var u,p=function l(e){a._assign(e,i,function(e){s&&!a[n]?(a.getStrawArray(e,l),a[n]=!0):a._assign({},i,function(){},t),a[n]=!0},t)};window.InitModeAjaxInTmsPreview&&(u=!0),i&&i[0]&&i[0].dycfg&&"mtop"===i[0].dycfg.mode&&!u&&r.MTop?a._mtopGet(c,o,p,function(){s?a.getStrawSingle(c,p):a._assign({},i,function(){},t),a[n]=!0}):a._get(c,o,p,function(){s?a.getStrawSingle(c,p):a._assign({},i,function(){},t),a[n]=!0}),e||(a._init(),clearTimeout(a._timer))},_mtopGet:function(t,e,a,i){var n=this;try{location.search.indexOf("testTcePre=true")>-1?(lib.mtop.config.subDomain="wapa",lib.mtop.config.mainDomain="taobao.com"):t.env&&t.env.indexOf("pre")>-1&&/\.wapa\.taobao\./i.test(location.hostname)&&(lib.mtop.config.subDomain="m",lib.mtop.config.mainDomain="taobao.com");var c=r.clone(t);"kimi"===r.version&&(c.src="phone");var o=r.JSON.stringify(c);r.MTop.request({AntiCreep:!0,api:"mtop.taobao.tceget.xget",v:"1.0",data:{d:o},ecode:0,dataType:"jsonp",timeout:2e4},function(t){a&&a(t.data)},function(t){n._reportMsg("mtop\u8fd4\u56de\u9519\u8bef",o),i&&i()})}catch(s){i&&i()}},_get:function(t,e,a,i){var n=this,c=(n.conf.request.jsonp.callback,function(t){var e=[];for(var r in t){var a=t[r];e.push(r+"="+a)}return e.join("&")});if(n._stack.length>0)var o=n._stack[0].dycfg.cacheTime;else var o=!1;if(o&&e.indexOf("dispatch")<0)var s=n._getCbName(t,e,o);else var s=r.guid("jsonpXctrl");var u={};return"kimi"===r.version&&(u.src="phone"),r.sufei(function(){r.ajax({url:e+(e.indexOf("?")<0?"?":"&")+c(t),data:u,dataType:"jsonp",jsonpCallback:s,cache:!0,scriptCharset:"utf-8",timeout:n.conf.request.timeout,crossDomain:!0,success:function(t){a&&a(t)},error:function(){n._reportMsg("mtop\u8fd4\u56de\u9519\u8bef",t),i&&i()}})}),n},getStrawSingle:function(t,e){var n=this,c=[],o=[];try{c=t.tce_sid.split(",")}catch(s){c.push(t.tce_sid)}for(var u=0,p=c.length;u<p;u++)o.push(new i(function(e,i){var o={tce_sid:c[u],tce_vid:t.tce_vid.split(",")[u],tid:t.tid.split(",")[u],tab:t.tab.split(",")[u],topic:t.topic.split(",")[u],src:""};"kimi"===r.version&&(o.src="phone"),a.fetch(o,function(t){e(t)},function(t){n._reportMsg("\u5bb9\u707e\u6570\u636e\u4e0d\u5b58\u5728",o),i(t)})}));for(var l={context:{},success:!0,version:"1.0",result:{}},f=0,d=function(t,r){o[t].then(function(r){f++,l.result[c[t]]=r,f===c.length&&e(l)})["catch"](function(r){f++,l.result[c[t]]="",f===c.length&&e(l)})},m=0,g=o.length;m<g;m++)d(m,g)},getStrawArray:function(t,e){var n=this,c=[],o={tce_sid:"",tce_vid:"",tid:"",tab:"",topic:"",src:""};"kimi"===r.version&&(o.src="phone");for(var s=0,u=t.length;s<u;s++)c.push(new i(function(e,r){var i=Object.assign({},o,t[s]);a.fetch(i,function(t){e(t)},function(t){n._reportMsg("\u5bb9\u707e\u6570\u636e\u4e0d\u5b58\u5728",i),r(t)})}));for(var p={context:{},success:!0,version:"1.0",result:{}},l=0,f=function(r,a){c[r].then(function(a){l++,p.result[t[r].tce_sid]=a,l===t.length&&e(p)})["catch"](function(a){l++,p.result[t[r].tce_sid]="",l===t.length&&e(p)})},d=0,m=c.length;d<m;d++)f(d,m)},_getCbName:function(t,e,a){var i="jsonp";try{for(var n=t.tce_sid.split(","),c=0,o=n.length;c<o;c++)i+=n[c].slice(-2);var s=e.indexOf("dispatch")>-1?"d":"n";i+=s,i+=parseInt(+new Date/a/1e3)}catch(u){i+=r.guid()}return i},_countSteinsUi:function(t){return t[0].data.length},_assign:function(t,e,a,i){var n,c,o,s,u,p,l,f,d,m=this,g=m.conf.response,h=g.convert,y=g.path.split("."),v=m.conf.request.backupUrl,_=!1;if(h&&h.path){s=h.path.split("."),u=t;for(var b in s)u=u[s[b]];o={};for(var b in s){var k=s[b];o[m._valResponse(k,h.key)]=k}t=o}f=t.context&&t.context.time||(new Date).getTime()+"";try{var A=location.search.match(new RegExp("[?&]scheduleDate=([^&]*)(&?)","i"));if(A&&A[1]){var d=decodeURIComponent(A[1]),w=d.replace(/-/g,"/");f=new Date(w).getTime()+""}}catch(S){}var $=[];for(n=0;n<e.length;n+=1){for(o=t||[],c=0;c<y.length;c+=1)o=o[m._val(e[n].para,y[c])]||[],1===c&&(p=o.success),l=o.ext||{};if(e[n].count&&(o=r.isArray(o)?o.splice(0,e[n].count):[]),"function"==typeof e[n].cb)if(m[JSON.stringify(i)]){var x=!0;m._resultSuccess[JSON.stringify(e[n].para)]||(e[n].cb(o,f,x),m._resultSuccess[JSON.stringify(e[n].para)]="success")}else{var x=!1,O=e[n],q=JSON.stringify(O.para),B=m._resultSuccess[q],j=o.length;j>0&&!B?O.dycfg.backup!==!1&&v&&l&&"1"==l.source&&m._countSteinsUi(o)>0?($.push(O.para),_=!0):(e[n].cb(o,f,x),m._resultSuccess[q]="success"):j>0&&B?(e[n].cb(o,f,x),m._resultSuccess[q]="success"):j<1&&O.dycfg.backup===!1?(e[n].cb(o,f,x),m._resultSuccess[q]="success"):j<1&&O.dycfg.backup!==!1&&(v?($.push(O.para),_=!0):(e[n].cb(o,f,x),m._resultSuccess[q]="success"))}}_&&(m._reportMsg("\u8bf7\u6c42\u6570\u636e\u4e3a\u7a7a,\u89e6\u53d1\u5bb9\u707e",$),a&&a($))}},t=e}(),kgXctrl724SrcModBaseApiKissy=function(exports){window.__sufei_injected__||KISSY.getScript("//g.alicdn.com/sd/sufei/0.2.4/app/common/sufei-kissy.js");var version=KISSY&&KISSY.version,BaseApi=kgXctrl724SrcBaseApi,LabApi,LabApi={merge:"KISSY.merge",mix:"KISSY.mix",guid:"KISSY.guid",clone:"KISSY.clone"};for(var key in LabApi)BaseApi[key]=eval(LabApi[key]);var IO=io,JSON=json;return BaseApi.JSON=JSON,BaseApi.ajax=function(t){return IO(t)},BaseApi.sufei=function(t){t&&t()},BaseApi.version="kissy",window.XctrlBaseApi=BaseApi,exports}(),kgXctrl724SrcApi=function(t){var e=kgXctrl724SrcGetHelper,r={},a=function(){var t={add:function(t,a){return r[t]=new e(a),r[t]},use:function(t){return r[t]},GetHelper:e};if(t.add("tcepre",{request:{timeout:5,url:"//tce.taobao.org/api/teg.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",env:"${env}",tid:"${tid}",tab:"${tab}",topic:"${topic}",count:"${count}"},charset:"utf-8"},response:{path:"result"}}),t.add("tceplus",{request:{timeout:5,url:"//tce.taobao.com/api/teg.htm",backupUrl:"//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.taobao.com/api/teg.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",tab:"${tab}",topic:"${topic}",count:"${count}"},charset:"utf-8"},response:{path:"result"}}),t.add("tcedaily",{request:{timeout:5,url:"//tce.daily.taobao.net/api/mget.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",env:"${env}",tab:"${tab}",topic:"${topic}",count:"${count}"},mergeKey:"tce_sid",mergeCount:"count",charset:"utf-8"},response:{path:"result.${tce_sid}.result"}}),window.g_config&&6==window.g_config.appId){var a={request:{timeout:5,cacheTime:60,url:"//tce.alicdn.com/api/mget.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",tab:"${tab}",env:"${env}",topic:"${topic}",count:"${count}"},mergeKey:"tce_sid",mergeCount:"count",charset:"utf-8"},response:{path:"result.${tce_sid}.result"}};/testDispath=true/.test(location.search)&&(a.request.backupUrl="//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.alicdn.com/api/mget.htm"),t.add("tceinner",a),t.add("tceonline",{request:{timeout:5,url:"//tce.alicdn.com/api/mget.htm",backupUrl:"//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.alicdn.com/api/mget.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",tab:"${tab}",topic:"${topic}",count:"${count}"},cacheTime:60,mergeKey:"tce_sid",mergeCount:"count",charset:"utf-8"},response:{path:"result.${tce_sid}.result"}})}else t.add("tceinner",{request:{timeout:5,url:"//tce.taobao.com/api/mget.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",tab:"${tab}",env:"${env}",topic:"${topic}",count:"${count}"},charset:"utf-8"},response:{path:"result.${tce_sid}.result"}}),t.add("tceonline",{request:{timeout:5,url:"https://tce.taobao.com/api/mget.htm",backupUrl:"https://www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.taobao.com/api/mget.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",tab:"${tab}",topic:"${topic}",count:"${count}"},mergeKey:"tce_sid",mergeCount:"count",charset:"utf-8"},response:{path:"result.${tce_sid}.result"}});return t.add("tcecdn",{request:{timeout:5,url:"//tce.alicdn.com/api/mget.htm",backupUrl:"//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=http://tce.alicdn.com/api/mget.htm",parameters:{tce_sid:"${tce_sid}",tce_vid:"${tce_vid}",tid:"${tid}",tab:"${tab}",topic:"${topic}",count:"${count}"},mergeKey:"tce_sid",mergeCount:"count",charset:"utf-8"},response:{path:"result.${tce_sid}.result"}}),t.add("tce",{request:{timeout:5,url:"//tce.taobao.com/api/get.htm",backupUrl:"//www.taobao.com/go/rgn/sys/xctrl/dispatch.php?murl=//tce.taobao.com/api/get.htm",parameters:{tce_sid:"${tce_sid}",tid:"${tid}",tab:"${tab}",topic:"${topic}",count:"${count}"},charset:"utf-8"},response:{path:"result"}}),t};return t={getApi:a}}(),kgXctrl724SrcBase=function(exports){function Multi(t){this.init(t)}var api=kgXctrl724SrcApi.getApi(),defaultConfig={timeout:3e3,extra:{},mode:"mtop",backup:!0,merge:!0},BaseApi;window.JSTracker2=window.JSTracker2||[],window.g_config=window.g_config||{},window.g_config.jstracker2={url:"http://xctrl.taobao.net/"},Multi.prototype={init:function(t){var e=this;BaseApi=window.XctrlBaseApi||{};var t=BaseApi.merge(defaultConfig,t);e.cfg=t,e._stringfiyToResult(t)},_stringfiyToResult:function _stringfiyToResult(conf){var self=this;if(window.JSON)var data=BaseApi.isString(conf.data)?JSON.parse(conf.data):conf.data;else var data=BaseApi.isString(conf.data)?eval("("+conf.data+")"):conf.data;var key=conf.key,cb=conf.callback,p=conf.extra;for(var k in p)p[k]=encodeURIComponent(p[k]);if(self.RequestFind=BaseApi.clone(data),BaseApi.isArray(key))if(conf.merge=!0,0===key.length)cb(arr);else{self.keyArrayResult={},self.keyArrayIndex=0,self.keyArrayLength=key.length;for(var i=0,len=key.length;i<len;i++){var sKey=key[i],sArr=data[key[i]];if(sArr&&sArr.length>0)self._getData(sArr,sKey,cb,p);else{var cbObj={};cbObj[sKey]=sArr,cbObj.timestamp="",cbObj.isDynamic=!1,cb(cbObj)}}}else if(BaseApi.isString(key)){var arr=data[key];arr&&BaseApi.isArray(arr)&&0!==arr.length?self._getData(arr,key,cb,p):cb(arr)}},_getData:function(t,e,r,a){for(var i,n=this,c={},o=0,s=t.length;o<s;o++){var u,p,l,f=t[o],d=f.data_type,m=f.data_para,g=f.data_request;for(var h in f)BaseApi.isArray(f[h])&&(u=h,p=f[h]);if(m=g?n.checkRely(f):m,m=a?BaseApi.merge(m,a):m,d){if(i=api.use(d)){for(var y in m)if(m.hasOwnProperty(y)){try{m[y]=unescape(m[y])}catch(v){}m[y]=encodeURIComponent(BaseApi.trim(m[y]))}l={arrs:t,request:g,next_key:u,next_param:p,cb_data:c,key:e,cb:r},i.push(m,function(t,e,r){n._dataCallback(t,e,l,r)},n.cfg)}}else{var _=BaseApi.clone(f);for(var h in f)if(BaseApi.isArray(f[h])){delete _[h];for(var y=0,b=f[h].length;y<b;y++){var k=f[h][y];k.data_request=_}}}}return 0!==t[0].length&&t[0].data_type||(n.keyArrayLength?(n.keyArrayResult[e]=t,n.keyArrayIndex++,n.keyArrayIndex===n.keyArrayLength&&(n.keyArrayResult.timestamp="",n.keyArrayResult.isDynamic=!1,r&&r(n.keyArrayResult))):(c[e]=t,c.timestamp="",c.isDynamic=!1,r&&r(c))),!1},_dataCallback:function(t,e,r,a){var i=this,n=r.arrs,c=r.request,o=r.next_key,s=r.next_param,u=r.cb_data,p=r.key,l=r.cb;if(t&&BaseApi.isArray(t)&&0!==t.length)for(var t=i._GetMsgWhitCommit(t),f=0,d=t.length;f<d;f++){var m=t[f];c&&(m.data_request=c),o&&(s[0].data_request=BaseApi.clone(m),m[o]=s),n[f]=BaseApi.clone(m)}else n=[];i.keyArrayLength?(i.keyArrayResult[p]=n,i.keyArrayIndex++,i.keyArrayIndex===i.keyArrayLength&&(i.keyArrayResult.timestamp=e,i.keyArrayResult.isDynamic=!0,i.keyArrayResult.isBackup=!!a,l&&l(i.keyArrayResult))):(u[p]=n,u.timestamp=e,u.isDynamic=!0,u.isBackup=!!a,l&&l(u))},_toEachArr:function(t,e,r){var a=this;a.promise[e]={},a.promise[e].get=0,a.promise[e].len=t.length,a._postRequst(t,e,r)},_GetMsgWhitCommit:function(t){function e(t,e){for(var a,i=0,n=t.length;i<n;i++){var c=t[i],o=!0;for(var s in c)BaseApi.isString(c[s])&&e[s]!==c[s]&&(o=!1),BaseApi.isArray(c[s])&&(a=s);if(o&&a){t=c[a];break}}if(!o||!a)var t=r(t,e);return t}function r(t,e){for(var r,a=0,i=t.length;a<i;a++){var n=t[a],c=!1;for(var o in n)"cat_id"===o&&n[o]===e[o]&&(c=!0),BaseApi.isArray(n[o])&&(r=o);if(c&&r){t=n[r];break}}return t}var a=this,i=BaseApi.clone(t),n=a.RequestFind;if(n.moduleinfo)return i;if(n.data_request){var c=n.data_request,o=e(i,c);i=e(o,n)}else i=e(i,n);return i},checkRely:function(t){var e=t.data_para;for(var r in e){var a=decodeURIComponent(e[r]),i=/@/g,n=a.match(i),c=n?n.length:0,o=null;if(c>0){for(var s=a.replace(i,""),u=0;u<c;u++)o=o?o.data_request:t.data_request;e[r]=o[s]}}return e},log:function(t){window.console&&console.log(t)}};var XCtrl;return XCtrl={dynamic:function(t,e,r,a){new Multi(arguments.length>1?{data:t,key:e,callback:r,extra:a}:arguments[0])},Dynamic:Multi},exports=XCtrl}(),kgXctrl724XctrlKissy=function(t){var e=kgXctrl724SrcBase;return t=e}(),module.exports=kgXctrl724XctrlKissy});define("npm/@ali/pi-kissy-pc/index",["util","promise","node","npm/@ali/xctrl/xctrl-kissy","event-custom"],function(t,n,i){var o,e,r,a,s,u,c=t("util"),d=t("promise"),f=t("node"),l=t("npm/@ali/xctrl/xctrl-kissy"),h=t("event-custom");o=function(t){var n=c,i=d;return t=function(t){return t.init=function(n){if(!n.length)return[];for(var o=[],e=0,r=n.length;e<r;e++){var a=n[e];o.push(t.initSingle(a))}return i.all(o)},t.initSingle=function(o){return new i(function(i,e){var r=[];for(var a in o.data)"moduleinfo"!==a&&n.isArray(o.data[a])&&r.push(a);var s={data:o.data,key:r,callback:function(t){t?o.data=t:(console.warn("\u6a21\u5757 "+o.id+" TCE\u63a5\u53e3\u6570\u636e\u8fd4\u56de\u7a7a\uff01"),o.data=[]),i(o)}};t.dynamic(s)})},t.expand=function o(e,r){if(r=r||[],e instanceof Array)return e.length?i.all(e.map(function(t){return o(t,r)})).then(function(){return e}):i.resolve(e);var a=[];for(var s in e)if(e.hasOwnProperty(s)){var u=e[s];u instanceof Array&&u[0]&&u[0].data_para&&u[0].data_para.tce_sid&&a.push(function(a){return new i(function(i){var s={},c=u[0].data_para.tab;if(c){var d=/^@?/.exec(c).length;s.tab=r[r.length-d-1][c.substring(d,c.length)]}console.log("dynamic",e,a);var f=e.extend||{};s=n.merge(s,f),t.dynamic(e,a,function(t){e[a]=t,i(o(e[a],r.concat([e])))},s)})}(s))}return a.length?i.all(a).then(function(){return e}):i.resolve(e)},t}}(),e=function(t){var n=f;return t=function(){var t=n(window).height(),i=2*t,o=1*t,e=navigator.userAgent.match(/iPhone OS (\d)_(\d)_?(\d)?/),r=navigator.userAgent.match(/Android (\d\.\d)/);return e&&e[1]&&parseInt(e[1])<8&&(i=2*t,o=2*t),r&&r[1]&&parseFloat(r[1])<4.4&&(i=2*t,o=2*t),{unit:i,firstUnit:o}}}(),r=function(t){var n=f,i=c,o=e,r=t=function(t){var n=this,i=o();t.firstUnit=i.firstUnit,t.unit=i.unit,n.init(t)},a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,1/60*1e3)};return r.prototype={stepList:[],lazyModList:[],init:function(t){var o=this,e=n(window).height();return o.cfg=i.merge({},t),t.modList&&t.modList.length?"function"!=typeof o.cfg.initFn?void console.log("\u521d\u59cb\u5316\u51fd\u6570\u4e3a\u7a7a"):(o.unit=o.cfg.unit||2*e,o.firstUnit=o.cfg.firstUnit||o.unit,o.initFn=o.useRAF?function(t){var n=a;n(function(){o.cfg.initFn(t)})}:function(t){o.cfg.initFn(t)},o.$modList=n(t.modList),o._initLazyModList(),o.initNotLazyLoad(),o.initbyStep(),void o._bindEvt()):void console.log("\u6a21\u5757\u5217\u8868\u4e3a\u7a7a")},_initLazyModList:function(){var t=this;i.each(t.$modList,function(n){t.lazyModList.push({id:n.id||n.id,mod:n,isInit:!1})})},initNotLazyLoad:function(){var t=this;i.each(t.lazyModList,function(n){n.mod.attrs&&("true"!==n.mod.attrs.disableLazyInit&&n.mod.attrs.disableLazyInit!==!0||(n.isInit=!0,t.initFn(n.mod)))})},initCurrentScreen:function(){for(var t,o,e,r,a=this,s=n(window).height(),u=n(document.body).scrollTop()||n(document).scrollTop(),c=u+s,d=[],f=a.lazyModList.length,l=0;l<f;l++){r=a.lazyModList[l];var h=n("#guid-"+r.id);window.__zebra&&(h=n('[zebra-guid="'+r.id+'"]')),t=h&&h.offset()&&h.offset().top,o=h.height(),e=t+o,r.isInit||(t>=u&&t<=c||e>=u&&e<=c||t<=u&&e>=c)&&d.push(r)}i.each(d,function(t,n){t.isInit||(t.isInit=!0,a.initFn(t.mod))})},updateStepList:function(){var t=this,o=0,e=0,r=t.firstUnit;t.stepList=[],t.stepList.push({lbound:e,ubound:r,modList:[]}),i.each(t.lazyModList,function(i,a){var s=n("#guid-"+i.id);window.__zebra&&(s=n('[zebra-guid="'+i.id+'"]'));var u=s&&s.offset()&&s.offset().top;u>=r&&(o++,e=t.firstUnit+(o-1)*t.unit,r=t.firstUnit+o*t.unit,t.stepList.push({lbound:e,ubound:r,modList:[]})),t.stepList[o].modList.push(i)})},initbyStep:function(){var t=this;t.initCurrentScreen(),t.updateStepList(),i.each(t.stepList,function(o,e){var r=o.lbound,a=o.ubound,s=o.modList,u=n(document.body).scrollTop()||n(document).scrollTop(),c=[];u>=r&&u<a&&(e>0&&t.stepList[e-1]&&(c=c.concat(t.stepList[e-1].modList)),c=c.concat(s),e+1<t.stepList.length&&t.stepList[e+1]&&(c=c.concat(t.stepList[e+1].modList)),i.each(c,function(n,i){n.isInit||(n.isInit=!0,t.initFn(n.mod))}))})},_bindEvt:function(){var t=this;t._isbind||(t._isbind=!0,n(window).on("scroll",function(n){t.initbyStep()}))}},t}(),a=function(t){var n=c,i=f,o=r,a=e,s=function(t){var n=this;n.config=t,n.xctrl=t.xctrl,n.data=t.data,n.init()};return s.prototype={init:function(){var t=this,n=t.config,i=n.data;i.length&&(i=t.initFirstAndSecondScreen(i),i.length&&new o({modList:i,initFn:function(n){t.dataInit(n).then(function(n){t.initMod(n[0])})}}))},initFirstAndSecondScreen:function(t){var i=this,o=i.getInitMods(t),e=n.map(o,function(t){return t.id});t=n.filter(t,function(t){return!n.inArray(t.id,e)});var r=a().firstUnit,s=i.getInitMods(t,r);o.length&&(console.info("\u9996\u5c4f\u52a0\u8f7d\u7684\u6a21\u5757\uff1a"+o.length+"\u4e2a",o),i.dataInit(o).then(function(t){n.each(t,function(t){i.initMod(t)}),console.info("======================="),s.length&&i.dataInit(s).then(function(t){n.each(t,function(t){i.initMod(t)}),console.info("=======================")})}));var u=n.map(s,function(t){return t.id});return t=n.filter(t,function(t){return!n.inArray(t.id,u)})},getInitMods:function(t,o){var e=a().firstUnit;o&&(e+=o);var r=[];return n.each(t,function(t){var n=i("#guid-"+t.id);if(window.__zebra&&(n=i('[zebra-guid="'+t.id+'"]')),n.length){var o=n.offset().top;o<=e&&r.push(t)}}),r},initMod:function(t){var n=this,i=n.config,o="#guid-"+t.id;t.data=t.data||{},t.data.moduleinfo=t.moduleinfo||{};var e={container:o,attrs:t.attrs,data:t.data,mod:t,xctrl:i.xctrl,id:t.id};return n._renderMod(t.fullName,e,t),!0},_renderMod:function(t,n){try{KISSY.use(t,function(i,o){console.info("use:",t);try{new o(n)}catch(e){console.error(t+" \u6a21\u5757\u5b58\u5728\u903b\u8f91\u9519\u8bef",e)}})}catch(i){console.error(t+" \u6a21\u5757\u52a0\u8f7d\u5931\u8d25\uff01",i)}},dataInit:function(t){var i=this.xctrl,o=[],e=[];t=n.isArray(t)?t:[t];for(var r=0,a=t.length;r<a;r++){var s=t[r];s.engine&&"tce"!==s.engine||(!s.attrs||"true"!==s.attrs.disableAutoRequest&&s.attrs.disableAutoRequest!==!0?o.push(s):(console.info(s,"\u6b64\u6a21\u5757\u7981\u7528\u4e86\u81ea\u52a8\u8c03\u7528\u63a5\u53e3\u8bf7\u6c42"),e.push(s)))}return o.length>0?i.xtce.init(o).then(function(t){t.length&&t.unshift(e);for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i];r&&(n=n.concat(r))}return n}):Promise.resolve(t)}},t=s}(),s=function(t){function n(t){new r({data:t,xctrl:f})}var i=l,e=o,r=a,s=h,u=c,d=lib.mtop,f={xtce:e(i),mtop:{request:d.request,config:function(t,n){d.config[t]=n}}};return console||(console={info:function(){},error:function(){}}),t=window.PageInit=function(t){var i=u.isArray(t)&&t||[t];if(console.info("all modules : ",i),i){var o=!1,e=0;if(u.each(i,function(t,n){t.name.indexOf("floor-individuation")!==-1&&(o=!0,e=n)}),o){var r=i[e];s.Target.on("floorIndividuationInit",function(){i.splice(e,1),n(i)});try{KISSY.use(r.fullName,function(t,n){try{r.data=r.data||{},r.data.moduleinfo=r.moduleinfo||{},new n({container:"#"+r.containerId,data:r.data,mod:r,attrs:r.attrs,xctrl:f,modulelist:i,Events:s.Target,id:r.id}),console.info("\u697c\u5c42\u4e2a\u6027\u5316\u6570\u636e\u52a0\u8f7d\u6210\u529f")}catch(o){console.error(r.fullName+" \u6a21\u5757\u5b58\u5728\u903b\u8f91\u9519\u8bef",o)}})}catch(a){console.error("\u697c\u5c42\u6392\u5e8f\u51fa\u9519, \u5177\u4f53\u9519\u8bef:",a),n(i)}}else n(i)}}}(),u=function(t){return t=s}(),i.exports=u});define("npm/@ali/pi-kissy-pc/mod-base",["base","util","node","event-custom"],function(n,e,t){var i,a=n("base"),r=n("util"),o=n("node"),s=n("event-custom");i=function(n){var e=a,t=r,i=o,d=s;if(!window.modEventManager){var c=function(){};t.augment(c,d.Target),window.MEM=window.modEventManager=new c}return n=e.extend({constructor:function(n){window.modEventManager&&window.modEventManager.fire("ready",n.mod);var e=this;if(!n.container)return console.log("\u7f3a\u5c11 container"),!1;var a=i(n.container);return window.__zebra&&(a=i('[zebra-guid="'+n.id+'"]')),a.all(".J_ModContainer").length&&(a=a.all(".J_ModContainer")),n.container=a,t.mix(e,n),e.mtop=e.xctrl.mtop,e.initializer(n),e},render:function(n,e,i){var a=this;e||(e=a.data),n||(n=a.xtpl),i||(i=a.attrs||{});var r=!1,o=a.container;if(t.isObject(n)&&(e=n.data,i=n.attrs||{},o=n.container,r=n.append,n=n.xtpl),o&&o.length){var s=n({data:e,attrs:i});r?o.append(s):o.html(s)}window.modEventManager&&window.modEventManager.fire("render",a.mod)},requestTce:function(n,e){var t=this,i=t.xctrl.xtce;return i.expand(n,e)},request:function(n){return!!n&&this.requestTce(n)}})}(),t.exports=i});define("npm/@ali/xtemplate/runtime",[],function(n,r,t){var e;e=function(n){var r,t,e,i,o;return r=function(n){function r(){var n="";for(var r in e)n+=r+"|";return n=n.slice(0,-1),o=new RegExp(n,"g")}var t,e={"&":"&amp;",">":"&gt;","<":"&lt;","`":"&#x60;","/":"&#x2F;",'"':"&quot;","'":"&#x27;"},i=/[&<>"'`]/,o=r(),a=/\\?\{([^{}]+)\}/g,f="undefined"!=typeof global?global:window,u=Object.prototype.toString;return n=t={isArray:Array.isArray||function(n){return"[object Array]"===u.call(n)},keys:Object.keys||function(n){var r,t=[];for(r in n)n.hasOwnProperty(r)&&t.push(r);return t},each:function(n,r,e){if(n){var i,o,a,f=0,u=n&&n.length,s=void 0===u||"[object Function]"===Object.prototype.toString.call(n);if(e=e||null,s)for(a=t.keys(n);f<a.length&&(i=a[f],r.call(e,n[i],i,n)!==!1);f++);else for(o=n[0];f<u&&r.call(e,o,f,n)!==!1;o=n[++f]);}return n},mix:function(n,r){if(r)for(var t in r)n[t]=r[t];return n},globalEval:function(n){f.execScript?f.execScript(n):!function(n){f.eval.call(f,n)}(n)},substitute:function(n,r,t){return"string"==typeof n&&r?n.replace(t||a,function(n,t){return"\\"===n.charAt(0)?n.slice(1):void 0===r[t]?"":r[t]}):n},escapeHtml:function(n){return n=""+n,i.test(n)?(n+"").replace(o,function(n){return e[n]}):n},merge:function(){for(var n=0,r=arguments.length,e={};n<r;n++){var i=arguments[n];i&&t.mix(e,i)}return e}}}(),t=function(n){function r(n,r,t){void 0!==n?this.data=n:this.data={},t?(this.parent=t,this.root=t.root):(this.parent=void 0,this.root=this),this.affix=r||{},this.ready=!1}return r.prototype={isScope:1,constructor:r,setParent:function(n){this.parent=n,this.root=n.root},set:function(n,r){this.affix[n]=r},setData:function(n){this.data=n},getData:function(){return this.data},mix:function(n){var r=this.affix;for(var t in n)r[t]=n[t]},get:function(n){var r,t=this.data,e=this.affix;return null!=t&&(r=t[n]),void 0!==r?r:e[n]},resolveInternalOuter:function(n){var r,t=n[0],e=this,i=e;if("this"===t)r=e.data;else if("root"===t)i=i.root,r=i.data;else{if(!t)return[i.data];do r=i.get(t);while(void 0===r&&(i=i.parent))}return[void 0,r]},resolveInternal:function(n){var r=this.resolveInternalOuter(n);if(1===r.length)return r[0];var t,e=n.length,i=r[1];if(void 0!==i){for(t=1;t<e;t++){if(null==i)return i;i=i[n[t]]}return i}},resolveLooseInternal:function(n){var r=this.resolveInternalOuter(n);if(1===r.length)return r[0];var t,e=n.length,i=r[1];for(t=1;null!=i&&t<e;t++)i=i[n[t]];return i},resolveUp:function(n){return this.parent&&this.parent.resolveInternal(n)},resolveLooseUp:function(n){return this.parent&&this.parent.resolveLooseInternal(n)},resolveOuter:function(n,r){var t,e=this,i=e;if(!r&&1===n.length){if(t=e.get(n[0]),void 0!==t)return[t];r=1}if(r)for(;i&&r--;)i=i.parent;return i?[void 0,i]:[void 0]},resolveLoose:function(n,r){var t=this.resolveOuter(n,r);return 1===t.length?t[0]:t[1].resolveLooseInternal(n)},resolve:function(n,r){var t=this.resolveOuter(n,r);return 1===t.length?t[0]:t[1].resolveInternal(n)}},n=r}(),e=function(n){function t(n,r,t){this.list=n,this.init(),this.next=r,this.ready=!1,this.tpl=t}function e(n,r){var e=this;e.config=r,e.head=new t(e,(void 0)),e.callback=n,this.init()}var i=r;return t.prototype={constructor:t,isBuffer:1,init:function(){this.data=""},append:function(n){return this.data+=n,this},write:function(n){if(null!=n){if(n.isBuffer)return n;this.data+=n}return this},writeEscaped:function(n){if(null!=n){if(n.isBuffer)return n;this.data+=i.escapeHtml(n)}return this},insert:function(){var n=this,r=n.list,e=n.tpl,i=new t(r,n.next,e),o=new t(r,i,e);return n.next=o,n.ready=!0,o},async:function(n){var r=this.insert(),t=r.next;return n(r),t},error:function(n){var r=this.list.callback;if(r){var t=this.tpl;if(t){n instanceof Error||(n=new Error(n));var e=t.name,i=t.pos.line,o="XTemplate error in file: "+e+" at line "+i+": ";n.stack=o+n.stack,n.message=o+n.message,n.xtpl={pos:{line:i},name:e}}this.list.callback=null,r(n,void 0)}},end:function(){var n=this;return n.list.callback&&(n.ready=!0,n.list.flush()),n}},e.prototype={constructor:e,init:function(){this.data=""},append:function(n){this.data+=n},end:function(){this.callback(null,this.data),this.callback=null},flush:function(){for(var n=this,r=n.head;r;){if(!r.ready)return void(n.head=r);this.data+=r.data,r=r.next}n.end()}},e.Buffer=t,n=e}(),i=function(n){var e=t,i=r,o={range:function(n,r){var t=r.params,e=t[0],i=t[1],o=t[2];o?(e>i&&o>0||e<i&&o<0)&&(o=-o):o=e>i?-1:1;for(var a=[],f=e;e<i?f<i:f>i;f+=o)a.push(f);return a},"void":function(){},foreach:function(n,r,t){var i,o,a,f,u=r.params,s=u[0],l=u[2]||"xindex",c=u[1];if(s)for(i=s.length,f=0;f<i;f++)o=new e(s[f],{xcount:i,xindex:f},n),a=o.affix,"xindex"!==l&&(a[l]=f,a.xindex=void 0),c&&(a[c]=s[f]),t=r.fn(o,t);return t},forin:function(n,r,t){var i,o,a,f=r.params,u=f[0],s=f[2]||"xindex",l=f[1];if(u)for(a in u)i=new e(u[a],{xindex:a},n),o=i.affix,"xindex"!==s&&(o[s]=a,o.xindex=void 0),l&&(o[l]=u[a]),t=r.fn(i,t);return t},each:function(n,r,t){var e=r.params,a=e[0];return a?i.isArray(a)?o.foreach(n,r,t):o.forin(n,r,t):t},"with":function(n,r,t){var i=r.params,o=i[0];if(o){var a=new e(o,(void 0),n);t=r.fn(a,t)}return t},"if":function(n,r,t){var e=r.params,i=e[0];if(i){var o=r.fn;o&&(t=o(n,t))}else{var a=!1,f=r.elseIfs,u=r.inverse;if(f)for(var s=0,l=f.length;s<l;s++){var c=f[s];if(a=c.test(n)){t=c.fn(n,t);break}}!a&&u&&(t=u(n,t))}return t},set:function(n,r,t){for(var e=r.hash,i=e.length,o=0;o<i;o++){var a=e[o],f=a.key,u=a.depth,s=a.value;if(1===f.length){for(var l=n.root;u&&l!==n;)n=n.parent,--u;n.set(f[0],s)}else{var c=n.resolve(f.slice(0,-1),u);c&&(c[f[f.length-1]]=s)}}return t},include:1,parse:1,extend:1,block:function(n,r,t){var e,i=this,o=i.runtime,a=r.params,f=a[0];2===a.length&&(e=a[0],f=a[1]);var u,s=o.blocks=o.blocks||{},l=s[f],c={fn:r.fn,type:e};if(l){if(l.type)if("append"===l.type)c.next=l,s[f]=c;else if("prepend"===l.type){var v;for(u=l;u&&"prepend"===u.type;)v=u,u=u.next;c.next=u,v.next=c}}else s[f]=c;if(!o.extendTpl)for(u=s[f];u;)u.fn&&(t=u.fn.call(i,n,t)),u=u.next;return t},macro:function(n,r,t){var i=r.hash,o=r.params,a=o[0],f=o.slice(1),u=this,s=u.runtime,l=s.macros=s.macros||{},c=l[a];if(r.fn)l[a]={paramNames:f,hash:i,fn:r.fn};else if(c){var v,d=c.hash||{};if(v=c.paramNames)for(var h=0,p=v.length;h<p;h++){var m=v[h];d[m]=f[h]}if(i)for(var g in i)d[g]=i[g];var x=new e(d);x.root=n.root,t=c.fn.call(u,x,t)}else{var y="can not find macro: "+a;t.error(y)}return t}};return o["debugger"]=function(){i.globalEval("debugger")},n=o}(),o=function(n){function o(n,r,t,e,i,o,a,f){this.name=n,this.originalName=o||n,this.runtime=r,this.root=t,this.pos={line:1},this.scope=e,this.buffer=i,this.fn=a,this.parent=f}function a(n,r,t){var e=t[0],i=n&&n[e]||r&&r[e]||x[e];if(1===t.length)return i;if(i)for(var o=t.length,a=1;a<o;a++)if(i=i[t[a]],!i)return!1;return i}function f(n,r){var t=n.split("/"),e=r.split("/");t.pop();for(var i=0,o=e.length;i<o;i++){var a=e[i];"."===a||(".."===a?t.pop():t.push(a))}return t.join("/")}function u(n,r,t,e,i,o){var f,u,s;if(o||(s=a(n.runtime.commands,n.root.config.commands,i)),s)return s.call(n,r,t,e);if(s!==!1){var l=i.slice(0,-1);if(f=r.resolve(l,o),null==f)return e.error("Execute function `"+i.join(".")+"` Error: "+l.join(".")+" is undefined or null"),e;if(u=f[i[i.length-1]])try{return u.apply(f,t.params||[])}catch(c){return e.error("Execute function `"+i.join(".")+"` Error: "+c.message),e}}return e.error("Command Not Found: "+i.join(".")),e}function s(n,r){var t=this;t.fn=n,t.config=m.merge(s.globalConfig,r),this.subNameResolveCache={}}function l(n,r,t){if("."!==r.charAt(0))return r;var e=t+"_ks_"+r,i=n.subNameResolveCache,o=i[e];return o?o:r=i[e]=f(t,r)}function c(n,r,t,e,i,o){var a=l(n,o,i.name),f=e.insert(),u=f.next;return d(n,a,i.runtime,r,f,o,t,e.tpl),u}function v(n,r,t,e,i){var a=t.insert(),f=a.next,u=new o(i.TPL_NAME,e.runtime,n,r,a,(void 0),i,t.tpl);return a.tpl=u,h(u),f}function d(n,r,t,e,i,a,f,u){var s=new o(r,t,n,e,i,a,(void 0),u);i.tpl=s,n.config.loader.load(s,function(n,r){"function"==typeof r?(s.fn=r,h(s)):n?i.error(n):(r=r||"",f?i.writeEscaped(r):i.data+=r,i.end())})}function h(n){var r=n.fn();if(r){var t,e=n.runtime,i=e.extendTpl;if(i&&(t=i.params[0],!t))return r.error("extend command required a non-empty parameter");var o=e.extendTplFn,a=e.extendTplBuffer;return o?(e.extendTpl=null,e.extendTplBuffer=null,e.extendTplFn=null,v(n.root,n.scope,a,n,o).end()):t&&(e.extendTpl=null,e.extendTplBuffer=null,c(n.root,n.scope,0,a,n,t).end()),r.end()}}function p(n,r,t){var e=r.params;if(!e[0])return t.error("include command required a non-empty parameter");var i=n,o=e[1],a=r.hash;return a&&(o=o?m.mix({},o):{},m.mix(o,a)),o&&(i=new y(o,(void 0),n)),i}var m=r,g=i,x={},y=t,b=e,w={callFn:u,callDataFn:function(n,r){for(var t=r[0],e=t,i=1;i<r.length;i++){var o=r[i];if(!e||null==e[o])return"";t=e,e=e[o]}return e.apply(t,n||[])},callCommand:function(n,r,t,e,i){return u(n,r,t,e,i)}};return m.mix(s,{config:function(n,r){var t=this.globalConfig=this.globalConfig||{};return arguments.length?void(void 0!==r?t[n]=r:m.mix(t,n)):t},nativeCommands:g,utils:w,util:m,addCommand:function(n,r){x[n]=r},removeCommand:function(n){delete x[n]}}),s.prototype={constructor:s,Scope:y,nativeCommands:g,utils:w,removeCommand:function(n){var r=this.config;r.commands&&delete r.commands[n]},addCommand:function(n,r){var t=this.config;t.commands=t.commands||{},t.commands[n]=r},include:function(n,r,t,e){return c(this,p(n,r,t),r.escape,t,e,r.params[0])},includeModule:function(n,r,t,e){return v(this,p(n,r,t),t,e,r.params[0])},render:function(n,r,t){var e="",i=this,a=i.fn,f=i.config;"function"==typeof r&&(t=r,r=null),r=r||{},t=t||function(n,r){if(n)throw n instanceof Error||(n=new Error(n)),n;e=r};var u=i.config.name;!u&&a&&a.TPL_NAME&&(u=a.TPL_NAME);var l;l=n instanceof y?n:new y(n);var c=new s.LinkedBuffer(t,f).head,v=new o(u,{commands:r.commands},i,l,c,u,a);return c.tpl=v,a?(h(v),e):(f.loader.load(v,function(n,r){r?(v.fn=i.fn=r,h(v)):n&&c.error(n)}),e)}},s.Scope=y,s.LinkedBuffer=b,n=s}(),n=o}(),t.exports=e});